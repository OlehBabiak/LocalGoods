<div class='container'>
  <div class='form-header'>
    <h2 class="form-header__title">Sign In</h2>
    <span class="form-header__text">
  New user?
        <a routerLink="/register" class="form-header__link">Create an account</a>
    </span>
  </div>
  <form class='form' [formGroup]='loginForm' (ngSubmit)="onSubmit()">
    <mat-card>
      <mat-form-field color='accent' appearance="outline">
        <mat-label>Email</mat-label>
        <input
          type="email"
          id="email"
          formControlName="email"
          placeholder="Ex. pat@example.com"
          matInput
        >
        <mat-error
          *ngIf="_email?.invalid && _email?.touched"
        >
          <mat-error
            *ngIf="_email?.hasError('required')"
          > {{ _errorMessage.required }}
          </mat-error>
          <mat-error
            *ngIf="_email?.hasError('message')"
          > {{ loginForm.controls['email'].errors?.['message'] }}
          </mat-error>
        </mat-error>
      </mat-form-field>

      <mat-form-field color='accent' appearance="outline">
        <mat-label style='text-align: center'>Password</mat-label>
        <div class='input'>
          <input
            [type]="isPassIsVisible ? 'text' : 'password'"
            id="password"
            formControlName="password"
            autocomplete="on"
            matInput
          >
          <i
            class="pass-visibility"
            (click)="onTogglePassVisible()"
            [ngClass]="
          !isPassIsVisible
            ? 'icon-pass-visible'
            : 'icon-pass-invisible'
        "
          ></i>
        </div>
        <mat-error
          *ngIf="_password?.invalid && _password?.touched"
        >
          <mat-error
            *ngIf="_password?.hasError('required')"
          > {{ _errorMessage.required }}
          </mat-error>
          <mat-error
            *ngIf="_password?.hasError('minlength')"
          > {{ _errorMessage.minlength }}
          </mat-error>
          <mat-error
            *ngIf="_password?.hasError('message') && !_password?.hasError('minlength')"
          > {{ loginForm.controls['password'].errors?.['message'] }}
          </mat-error>
        </mat-error>
      </mat-form-field>
      <div>
        <button [disabled]='!loginForm.valid' mat-raised-button type="submit" color="accent">Login</button>
      </div>
    </mat-card>
  </form>
</div>
